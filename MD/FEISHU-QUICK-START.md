# 飞书导入快速开始 🚀

## 一分钟上手

### 1️⃣ 启动服务器（推荐）
双击运行：
```
start-upload-server.bat
```
**注意**：如果不启动服务器，可以使用Base64模式，但会占用存储空间。

### 2️⃣ 打开后台
访问：`blog-admin/index.html`

### 3️⃣ 导入飞书
1. 点击"📥 导入飞书"
2. **选择图片处理模式**：
   - 🚀 **自动上传到服务器（推荐）** - 需要启动服务器
   - 📦 **转换为Base64** - 无需服务器，但占用空间
   - 🔗 **保留飞书URL** - 可能无法访问
3. 在飞书文档中 `Ctrl+A` → `Ctrl+C`
4. 粘贴到导入框 `Ctrl+V`
5. 点击"📥 导入并转换"

### 4️⃣ 等待处理
- 系统自动检测飞书图片
- 根据选择的模式处理图片
- 显示实时进度（自动上传模式）
- 自动替换图片链接

### 5️⃣ 完成编辑
- 自动跳转到编辑器
- 图片已经处理完成
- 可以直接编辑和发布

## 就这么简单！✨

**三种模式任你选择，满足不同需求！**

---

## 📸 图片处理模式对比

| 模式 | 优点 | 缺点 | 适用场景 |
|------|------|------|----------|
| 🚀 自动上传 | 不占用存储空间<br>图片独立管理<br>加载速度快 | 需要启动服务器 | **推荐**<br>图片较多的文档 |
| 📦 Base64 | 无需服务器<br>操作简单 | 占用localStorage<br>可能超出限制 | 图片较少的文档 |
| 🔗 保留URL | 无需处理 | 可能无法访问<br>依赖飞书服务器 | 临时预览 |

## 图片存储位置

### 自动上传模式
```
blog-admin/uploads/articles/article_时间戳/
```
每个文档有独立的文件夹，便于管理。

### Base64模式
存储在 localStorage 中，与文章内容一起保存。

## 支持的飞书图片

系统自动识别所有飞书域名的图片：
- `feishu.cn`
- `larksuite.com`
- `bytedance.net`
- `lf-static.bytednsdoc.com`
- `lf1-ttcdn-tos.pstatp.com`

## 常见问题

### Q: 服务器未启动怎么办？
**A:** 系统会自动提示，可以选择切换到Base64模式或保留URL

### Q: 图片上传失败？
**A:** 
1. 检查 `upload-server.js` 是否运行
2. 检查网络连接
3. 尝试使用Base64模式

### Q: 图片显示不出来？
**A:** 
- **自动上传模式**：检查服务器和文件路径
- **Base64模式**：检查localStorage是否超出限制
- **保留URL模式**：检查飞书图片权限

### Q: 图片太大？
**A:** 
- 自动上传模式：单个图片最大 5MB
- Base64模式：建议单个图片不超过 1MB

### Q: 想手动处理图片？
**A:** 在编辑器中点击"📥 下载飞书图片"按钮

---

## 测试功能

打开测试页面验证功能：
- `test-feishu-import-integrated.html` - 集成测试
- `test-feishu-auto-upload.html` - 上传测试

---

**详细文档：** 查看 `FEISHU-IMPORT-AUTO-UPLOAD.md`
